{
    "name": "Hapag-Lloyd",
    "general": {
        "url": "https://www.hapag-lloyd.com/en/online-business/tracing/tracing-by-container.html?container={container}",
        "datetimes": ["%Y-%m-%d", "%H:%M", "%Y-%m-%d %H:%M"],
        "single": {
            "table": "containers",
            "query": ["year", "manifest", "detail", "container"]
        },
        "multiple": {
            "key": "tracking"
        }
    },
    "input": [
        {
            "type": "id",
            "selector": "tracing_by_container_f",
            "assert": true
        },
        {
            "type": "class",
            "selector": "error",
            "assert": false,
            "required": false
        },
        {
            "type": "id",
            "selector": "hal-cookieconsent-button",
            "command": {
                "type": "click",
                "wait": false,
                "required": false
            }
        }
    ],
    "single": [
        {
            "type": "class",
            "selector": "inputNonEdit",
            "commands": [
                {
                    "index": 0,
                    "type": "save",
                    "key": "type",
                    "required": false
                },
                {
                    "index": 1,
                    "type": "save",
                    "key": "description",
                    "required": true
                },
                {
                    "index": 2,
                    "type": "split",
                    "delimiter": " X ",
                    "commands": [
                        {
                            "index": 0,
                            "type": "save",
                            "key": "length",
                            "required": false
                        },
                        {
                            "index": 2,
                            "type": "save",
                            "key": "height",
                            "required": false
                        },
                        {
                            "index": 1,
                            "type": "save",
                            "key": "width",
                            "required": false
                        }
                    ]
                },
                {
                    "index": 3,
                    "type": "save",
                    "key": "tare",
                    "required": false
                },
                {
                    "index": 4,
                    "type": "save",
                    "key": "max_payload",
                    "required": false
                },
                {
                    "index": 5,
                    "type": "regex",
                    "pattern": "The container (.*?) (in|from) (.*?) at (.*?) \\.",
                    "commands": [
                        {
                            "index": 0,
                            "type": "save",
                            "key": "last_status",
                            "format": "status",
                            "required": true
                        },
                        {
                            "index": 2,
                            "type": "save",
                            "key": "last_location",
                            "required": true
                        },
                        {
                            "index": 3,
                            "type": "save",
                            "key": "last_date",
                            "required": true
                        }
                    ]
                }
            ],
            "required": true
        }
    ],
    "multiple": {
        "parents": null,
        "common": null,
        "specific_parents": {
            "type": "css",
            "selector": ".hal-table tbody tr"
        },
        "specific_commands": [
            {
                "type": "tag",
                "selector": "td",
                "commands": [
                    {
                        "index": 0,
                        "type": "save",
                        "key": "status",
                        "format": "status",
                        "required": true
                    },
                    {
                        "index": 1,
                        "type": "save",
                        "key": "location",
                        "required": true
                    },
                    {
                        "index": 2,
                        "type": "save",
                        "key": "date",
                        "format": "date",
                        "required": true
                    },
                    {
                        "index": 3,
                        "type": "save",
                        "key": "time",
                        "format": "time",
                        "required": false
                    },
                    {
                        "index": 4,
                        "type": "compare",
                        "values": "Truck",
                        "success": [
                            {
                                "type": "save",
                                "key": "transport_type",
                                "value": "Truck"
                            }
                        ],
                        "failure": [
                            {
                                "type": "save",
                                "key": "transport_type",
                                "value": "Vessel"
                            },
                            {
                                "type": "save",
                                "key": "transport_ship",
                                "required": false
                            }
                        ]
                    },
                    {
                        "index": 5,
                        "type": "save",
                        "key": "transport_voyage",
                        "required": false
                    }
                ]
            },
            {
                "type": "class",
                "selector": "strong",
                "command": {
                    "type": "save",
                    "key": "is_estimated",
                    "value": false
                },
                "required": false
            }
        ],
        "overwrite": true
    }
}
